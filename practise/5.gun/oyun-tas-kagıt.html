<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>1.yol</title>
    <style>
      .container {
        position: absolute;
        top: 20vh;
        left: 30vw;
        right: auto;
        bottom: auto;
        background-color: rgb(176, 86, 176);
        padding: 7rem;
      }
      span {
        background-color: bisque;
      }
    </style>
  </head>
  <body>
    <!-- Taş makası, makas kağıdı, kâğıt da 
  taşı yener. Eğer oyuncular aynı durumu seçerse 
  oyun berabere biter. -->
    <div class="container">
      <h2>Bilgisayar: <span id="bilgisayar"></span></h2>
      <h2>Sen: <span id="kullanici"></span></h2>
      <h2>Sonuç: <span id="sonuc"></span></h2>
      <button id="tas">TAŞ</button>
      <button id="kagit">KAĞIT</button>
      <button id="makas">MAKAS</button>
    </div>
    <script>
      /* 1. butonlara click olunca çalışacak fonksiyon
2. sanal seçimi yapacak fonksiyon
3.kullanıcı seçimi ile sanal seçimi karşılaştıracak fonksiyon
*/
      const sanalSecimEl = document.getElementById("bilgisayar");
      const kullaniciSecimiEl = document.getElementById("kullanici");
      const sonucEl = document.getElementById("sonuc");
      const butonlar = document.querySelectorAll("button");
      let kullaniciSecimi;
      let sanalSecim;
      let sonuc;

      //butonların içinde ayrı ayrı gezerek click ozelliği verilebilir
      butonlar.forEach((buton) => {
        buton.addEventListener("click", (e) => {
          kullaniciSecimi = e.target.id; //tıklanann yerdekı bilgiyi yakalamak ıcın.

          kullaniciSecimiEl.innerHTML = kullaniciSecimi;
          generateSanalSecim(); //rastgele bir seçim üretecek fonksiyon olmalı
          /*   //TODO: 
        setTimeout ile sonucu bekleterek getirelim */
          getSonuc();
          //rastgele seçim ile kullanıcı seçimini karşılaştıracak fonks.
        });
      });
      function generateSanalSecim() {
        const randomNumber = Math.floor(Math.random() * 3) + 1; ///0 gelme ihtimaline karsı
        if (randomNumber == 1) {
          sanalSecim = "tas";
        }
        if (randomNumber == 2) {
          sanalSecim = "makas";
        }
        if (randomNumber == 3) {
          sanalSecim = "kagit";
        }
        sanalSecimEl.innerHTML = sanalSecim;
      }
      function getSonuc() {
        /* Taş makası, makas kağıdı, kâğıt da 
    taşı yener. Eğer oyuncular aynı durumu seçerse 
    oyun berabere biter. */
        if (sanalSecim == kullaniciSecimi) {
          sonuc = "Beraberesiniz:)";
        } else if (sanalSecim == "tas" && kullaniciSecimi == "kagit") {
          sonuc = "sen kazandın";
        } else if (sanalSecim == "tas" && kullaniciSecimi == "makas") {
          sonuc = "kaybettin:(";
        } else if (sanalSecim == "kagit" && kullaniciSecimi == "makas") {
          sonuc = "sen kazandın";
        } else if (sanalSecim == "kagit" && kullaniciSecimi == "tas") {
          sonuc = "kaybettin:(";
        } else if (sanalSecim == "makas" && kullaniciSecimi == "tas") {
          sonuc = "sen kazandın";
        } else if (sanalSecim == "makas" && kullaniciSecimi == "kagit") {
          sonuc = "kaybettin:(";
        }
        sonucEl.innerHTML = sonuc;
      }
    </script>
  </body>
</html>
